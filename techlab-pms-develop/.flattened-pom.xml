<?xml version="1.0" encoding="UTF-8"?>
<project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <modelVersion>4.0.0</modelVersion>
  <groupId>it.ringmaster</groupId>
  <artifactId>techlab-pms-develop</artifactId>
  <version>1.0-SNAPSHOT</version>
  <packaging>pom</packaging>
  <modules>
    <module>pms-application</module>
    <module>pms-dtos</module>
    <module>pms-liquibase</module>
    <module>pms-core</module>
  </modules>
  <distributionManagement>
    <repository>
      <id>packagecloud-fabio_corso</id>
      <url>packagecloud+https://packagecloud.io/fabio_corso/techlab-metaverse/maven2</url>
    </repository>
    <snapshotRepository>
      <id>packagecloud-fabio_corso</id>
      <url>packagecloud+https://packagecloud.io/fabio_corso/techlab-metaverse/maven2</url>
    </snapshotRepository>
  </distributionManagement>
  <properties>
    <maven.flatten.plugin.version>1.1.0</maven.flatten.plugin.version>
    <game.engine.version>3.1.0-SNAPSHOT</game.engine.version>
    <maven.liquibase.plugin.version>4.4.3</maven.liquibase.plugin.version>
    <postgres.version>42.2.23</postgres.version>
    <hibernate.core.version>5.6.10.Final</hibernate.core.version>
    <maven.wagon.plugin.version>0.0.6</maven.wagon.plugin.version>
    <mapstruct.version>1.5.3.Final</mapstruct.version>
    <maven.deploy.plugin.version>2.8.2</maven.deploy.plugin.version>
    <maven.gitflow.plugin.version>1.17.0</maven.gitflow.plugin.version>
    <ringmaster.project.prefix>EWL SERVER</ringmaster.project.prefix>
    <java.version>11</java.version>
    <maven.compiler.source>11</maven.compiler.source>
    <liquibase.version>4.4.2</liquibase.version>
    <maven.surfire.plugin.version>2.12.4</maven.surfire.plugin.version>
    <revision>1.0.0-SNAPSHOT</revision>
    <lombok.version>1.18.22</lombok.version>
    <maven.compiler.target>11</maven.compiler.target>
    <ringmaster.project.name>METAVERSE</ringmaster.project.name>
  </properties>
  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>it.ringmaster</groupId>
        <artifactId>common-bom</artifactId>
        <version>${game.engine.version}</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>
    </dependencies>
  </dependencyManagement>
  <repositories>
    <repository>
      <releases>
        <enabled>true</enabled>
        <updatePolicy>always</updatePolicy>
      </releases>
      <snapshots>
        <enabled>true</enabled>
        <updatePolicy>always</updatePolicy>
      </snapshots>
      <id>packagecloud-fabio_corso</id>
      <url>https://packagecloud.io/fabio_corso/techlab-metaverse/maven2</url>
    </repository>
  </repositories>
  <build>
    <extensions>
      <extension>
        <groupId>io.packagecloud.maven.wagon</groupId>
        <artifactId>maven-packagecloud-wagon</artifactId>
        <version>${maven.wagon.plugin.version}</version>
      </extension>
    </extensions>
    <finalName>${project.artifactId}</finalName>
    <plugins>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>flatten-maven-plugin</artifactId>
        <version>${maven.flatten.plugin.version}</version>
        <executions>
          <execution>
            <id>flatten</id>
            <phase>process-resources</phase>
            <goals>
              <goal>flatten</goal>
            </goals>
          </execution>
          <execution>
            <id>flatten.clean</id>
            <phase>clean</phase>
            <goals>
              <goal>clean</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <updatePomFile>true</updatePomFile>
          <flattenMode>resolveCiFriendliesOnly</flattenMode>
        </configuration>
      </plugin>
      <plugin>
        <artifactId>maven-surefire-plugin</artifactId>
        <version>${maven.surfire.plugin.version}</version>
      </plugin>
      <plugin>
        <groupId>com.amashchenko.maven.plugin</groupId>
        <artifactId>gitflow-maven-plugin</artifactId>
        <version>${maven.gitflow.plugin.version}</version>
        <configuration>
          <verbose>true</verbose>
          <commitDevelopmentVersionAtStart>true</commitDevelopmentVersionAtStart>
          <useSnapshotInRelease>true</useSnapshotInRelease>
          <pushRemote>false</pushRemote>
          <skipTestProject>true</skipTestProject>
          <gitFlowConfig>
            <productionBranch>master</productionBranch>
            <developmentBranch>develop</developmentBranch>
            <featureBranchPrefix>feature/</featureBranchPrefix>
            <releaseBranchPrefix>release/</releaseBranchPrefix>
            <hotfixBranchPrefix>hotfix/</hotfixBranchPrefix>
            <supportBranchPrefix>support/</supportBranchPrefix>
            <versionTagPrefix>${versionTagPrefix}</versionTagPrefix>
            <origin>origin</origin>
          </gitFlowConfig>
          <versionProperty>revision</versionProperty>
          <skipUpdateVersion>true</skipUpdateVersion>
          <versionDigitToIncrement>1</versionDigitToIncrement>
          <commitMessagePrefix xml:space="preserve">[GITFLOW] v@{version} </commitMessagePrefix>
        </configuration>
      </plugin>
      <plugin>
        <artifactId>maven-compiler-plugin</artifactId>
        <version>3.7.0</version>
        <configuration>
          <source>${maven.compiler.source}</source>
          <target>${maven.compiler.target}</target>
          <annotationProcessorPaths>
            <path>
              <groupId>org.projectlombok</groupId>
              <artifactId>lombok</artifactId>
              <version>${lombok.version}</version>
            </path>
            <path>
              <groupId>org.mapstruct</groupId>
              <artifactId>mapstruct-processor</artifactId>
              <version>${mapstruct.version}</version>
            </path>
          </annotationProcessorPaths>
          <compilerArgs>
            <compilerArg>-Amapstruct.defaultComponentModel=spring</compilerArg>
          </compilerArgs>
        </configuration>
      </plugin>
    </plugins>
  </build>
</project>
